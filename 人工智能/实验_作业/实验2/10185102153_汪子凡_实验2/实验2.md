###             华东师范大学计算机科学技术系上机实践报告

 

| **课程名称：人工智能**       | **年级：2018级**      | **上机实践成绩：**          |
| ---------------------------- | --------------------- | --------------------------- |
| **指导教师：周爱民**         | **姓名： 汪子凡**     | **创新实践成绩：**          |
| **上机实践名称：五子棋问题** | **学号：10185102153** | **上机实践日期：2020/4/16** |
| **上机实践编号：No.2**       | **组号：**            | **上机实践时间：**          |

****

#### **一、 问题介绍**

​    实现一个交互式五子棋程序(采取博弈算法)，可以采用极大极小搜索方法或者alpha-beta剪枝算法实现

#### **二、 程序设计与算法分析**

  本次实验采用了类似极大极小值搜索的方法，即对于某一个合适的节点进行评估，得出相应的评估值，然后取极大值来作为电脑方的步骤。

  我将节点分成两类，一类是防守节点，一类是进攻节点。

  对于防守节点，指的是某5个连续位置，对方的棋子大于等于三个，并且没有我方棋子，这种情况下这个地方就需要我方棋子去“堵”， 堵的位置记为为防守节点，对于这种节点的评估，有三个参数：

```python
num = 0                                      #以五个为单位，检测到的最多的白棋子数
Continue_flag = -1                                        #是否连续
Block_flag = -1                                #是否有一边被我方棋子堵住 
```

根据这三个参数来评估某个防守节点的重要性，当num ≥ 3且 continue_flag和Block_flag都设为正数，则这个节点的优先级最高，按照num为第一关键字，是否连续和有一边是否被堵住作为第二关键字来处理这些防守节点的优先级。

  对于进攻节点，是指有可能可以使我方棋子连成5个的节点，其中也设置了两个参数：

```python
num = 0                                  #记录最多的连起来的旗子个数
block_flag = 1                           #是否由一方被堵，没有为1
```

按照num为第一关键字，block_flag为第二关键字来处理所有进攻节点的优先级。

每次处理一个节点的时候，要注意边界问题以及总共有8个方向。

所有的进攻节点和防守节点之间也有优先级的比较，进攻节点num为4的时候优先级别最高(因为再下一步就赢了)， 防守节点num = 4时优先级第二高(因为不堵的话就会输)，然后是num为3，并且两边都没有被对方棋子堵着优先级第三高(只要两步就赢了)，然后是对方有三个....通过设置一系列的参数来评估节点的好坏，取相对好的节点作为电脑方的下一步。

  本方法分析的深度比较小，评估方法比较粗，所以对于一些节点的分析可能没有那么准确，但是也有一定的参考度，具有可玩性。

  由于UI用pygame比较容易实现，所以这次实验的代码用Python完成，并且可以显示人机对战的成绩。用pyinstaller打包后可以直接运行exe文件。

#### **三、 实验结果**

人机对战过程：

![image-20200420140128739](C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20200420140128739.png)

若是有一方取胜：

![image-20200420140417293](C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20200420140417293.png)

结果分析：(1)还是具有一定可玩性，电脑的步骤并不是很差，可能由于电脑一直都是后手所以劣势更明显

(2)更换优先级顺序后，发现现有优先级和评估函数还是具有合理性的

(3)有一些问题，比如UI过于简陋，电脑的步数过于死板(可能要学了机器学习可以优化)，电脑下的过快玩家没有反应过来(将最后下的一步标记出来)，可能可以在今后的时间里加以改进。

#### 四、 附件

具体的源码和exe文件，已经在打包好的zip文件中

